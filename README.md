# My-51MCU-Project
一个功能丰富的51单片机多功能时钟项目
本项目基于51单片机，实现了一个具备时间管理、外设控制和多种交互方式的智能时钟系统，集成了串口通信、PWM调光、EEPROM存储、看门狗复位等关键功能，是一个适合单片机初学者进阶学习的综合性项目。

# 详细功能清单
1.**串口打印时间**：系统每秒通过串口向PC端发送一次当前时间，格式为 `YYYY-MM-DD HH:MM:SS WEEKDAY`。
2.**呼吸式流水灯**：使用PWM控制LED灯实现呼吸式流水灯，以1.5秒/灯频率切换。
3.**数码管显示时间**：数码管可显示“年-月”和“时-分”两种信息，通过独立按键控制模式切换。
4.**串口指令校时**：通过上位机串口助手发送指令 `set:YYYY-MM-DD HH:MM:SS\n`，即可完成系统时间的设置。星期几由程序自动计算。
5.**智能闹钟系统**：支持通过串口发送 `alarm:HH-MM-SS\n` 格式指令设置闹钟。闹钟触发时，蜂鸣器会播放具有**三阶变调**的音乐，并可通过独立按键关闭。
6.**断电保护**：系统每秒将当前时间写入板载EEPROM，当意外断电后重启，程序会自动从EEPROM读取上次保存的时间，继续准确计时。当EEPROM无保存的数据时，使用系统预设时间。
7.**看门狗复位**：使用单片机内部的看门狗定时器，1.14秒未喂狗时触发复位。通过设立标志位，实现了“定时器/主循环任一卡死即触发复位”的效果。考虑到闹钟的响铃周期为1.5秒，会在响铃时执行一次喂狗操作，避免意外复位。

# 硬件需求
1.51单片机核心板（如STC89C52RC、STC89C51RC2等）
2.若干LED（本项目中使用4个）
3.4位数码管
4.无源蜂鸣器
5.独立按键（本项目中使用4个，其中一个用于复位）
6.USB转TTL串口模块（用于烧录和通信）

# 使用方法
1.**克隆仓库**：`git clone [你的仓库地址]`
2.**打开工程**：使用Keil uVision等IDE打开项目文件夹中的 `.uvproj` 工程文件。
3.**编译烧录**：根据需要配置单片机型号，在“output”一栏选择生成hex文件，编译项目并确认生成 `.hex` 文件，烧录至你的51单片机。
4.**连接与通信**：
    *使用串口线连接单片机与电脑。
    *打开串口助手类任意串口调试软件。
    *设置正确的波特率（本工程使用4800）与输出形式，打开串口，即可看到时间信息打印，并可发送指令。

# 可能的改进方向
1.精度与可靠性存在局限

当前系统计时依赖单片机内置振荡器，存在累积误差；断电恢复依赖EEPROM，擦写寿命有限（约10万次）。
未来考虑接入DS3231等高精度RTC芯片，提升计时精度；设计更健壮的存储管理算法，减少对EEPROM的擦写。

2.人机交互体验待优化

当前人机交互主要依赖串口助手进行，对普通用户不友好；数码管显示信息有限且单调。
未来考虑更换LED屏，显示中文及图形信息；设计配套手机应用进行无线设置或增加实体旋钮。

3.系统拓展性不足

当前系统只具有时钟相关功能，未考虑与其他设备联动或加入传感器，使之成为智能家居节点或实验室设备运行环境监测节点。
未来考虑加入温湿度传感器等器件，使之在家庭、实验室等场景中具有更广泛应用潜力。

4.软件设计水平可提升

当前代码采用前后台超级循环架构，绝大部分功能耦合在主循环中，维护难度随功能增加而大幅上升；版本迭代过多（十几个备份），在文件夹寻找较为不便。
未来考虑使用版本控制（如Git）进行项目管理，提升代码规范性及模块化程度，提升可读性，降低维护难度。

# 谢谢你的阅读
**本项目作为我的第一次工程实践，存在诸多不足，使我获得了宝贵的开发经验与教训。同时，这也是我首次在GitHub开源代码，README文件的写作可能并不规范，敬请谅解。
作为生物医学工程专业的大一学生，我感到自己仍需深耕。程序设计如有bug或优化空间，请务必提出。本人后续的stm32项目也会开源。
——写于2026.02.25  11：29**
