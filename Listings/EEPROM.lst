C51 COMPILER V9.60.7.0   EEPROM                                                            01/30/2026 14:30:52 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE EEPROM
OBJECT MODULE PLACED IN .\Objects\EEPROM.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE EEPROM.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\EEPROM.lst) TABS(2) OBJECT(.\Objects\EEPROM.obj)

line level    source

   1          #include "reg52.h"
   2          #include "EEPROM.h"
   3          
   4          static void IAPTrigger();
   5          static void IAPDisable();
   6          
   7          //´¥·¢Æ÷
   8          static void IAPTrigger()
   9          {
  10   1        ISP_TRIG = 0x46;
  11   1        ISP_TRIG = 0xB9;
  12   1      }
  13          
  14          //¹Ø±ÕIAP
  15          static void IAPDisable()
  16          {
  17   1        ISP_CONTR = 0x00;
  18   1        ISP_CMD   = 0x00;
  19   1        ISP_TRIG  = 0x00;
  20   1      }
  21          
  22          //¶ÁÈ¡
  23          unsigned char IAPByteRead(unsigned int addr)
  24          {
  25   1        unsigned char dat;
  26   1        ISP_CONTR = 0x81;
  27   1        ISP_CMD   = 0x01;
  28   1        
  29   1        ISP_ADDRL = addr;
  30   1        ISP_ADDRH = addr >> 8;
  31   1      
  32   1        IAPTrigger();
  33   1        dat = ISP_DATA;
  34   1        IAPDisable();
  35   1        return dat;
  36   1      }
  37          
  38          //²Á³ýÉÈÇø
  39          void IAPSectorErase(unsigned int addr)
  40          {
  41   1        ISP_CONTR = 0x81;
  42   1        ISP_CMD   = 0x03;
  43   1      
  44   1        ISP_ADDRL = addr;
  45   1        ISP_ADDRH = addr >> 8;
  46   1      
  47   1        IAPTrigger();
  48   1        IAPDisable();
  49   1      }
  50          
  51          //Ð´Èë
  52          void IAPByteWrite(unsigned int addr, unsigned char dat)
  53          {
  54   1        ISP_CONTR = 0x81;
C51 COMPILER V9.60.7.0   EEPROM                                                            01/30/2026 14:30:52 PAGE 2   

  55   1        ISP_CMD   = 0x02;
  56   1      
  57   1        ISP_ADDRL = addr;
  58   1        ISP_ADDRH = addr >> 8;
  59   1        ISP_DATA = dat;
  60   1      
  61   1        IAPTrigger();
  62   1        
  63   1        IAPDisable();
  64   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     72    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
